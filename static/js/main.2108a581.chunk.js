(this["webpackJsonpdevice-settings"]=this["webpackJsonpdevice-settings"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(2),i=n.n(r),a=n(5),u=n.n(a),o=(n(16),n(0)),c=n.n(o),s=n(1),d=n(6),l=n(7),v=n(11),p=n(9),f=n(10),b=n(8);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.duration;void 0===n&&(n="success"),void 0===r&&(r=4e3);var i={message:e,options:{type:n,duration:r}};document.dispatchEvent(new CustomEvent("ADD_NOTIFICATION_MESSAGE",{detail:i}))}var g=Object(b.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={audio:{echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0},video:{width:440,height:250}};return(null===e||void 0===e?void 0:e.deviceId)?n.audio.deviceId=e.deviceId:n.audio=!1,(null===t||void 0===t?void 0:t.deviceId)?n.video.deviceId=t.deviceId:n.video=!1,!1===n.video&&!1===n.audio?null:n}));function m(e){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,!navigator.getUserMedia&&!navigator.mediaDevices.getUserMedia){e.next=14;break}return e.next=5,navigator.mediaDevices.getUserMedia;case 5:if(!e.sent){e.next=9;break}e.t0=navigator.mediaDevices.getUserMedia(t),e.next=12;break;case 9:return e.next=11,navigator.getUserMedia(t);case 11:e.t0=e.sent;case 12:return n=e.t0,e.abrupt("return",n);case 14:e.next=29;break;case 16:e.prev=16,e.t1=e.catch(0),console.log("ERROR",e.t1),e.t2=e.t1.name,e.next="NotFoundError"===e.t2||"DevicesNotFoundError"===e.t2?22:"SourceUnavailableError"===e.t2?24:26;break;case 22:return r="Please setup your webcam first.",e.abrupt("break",28);case 24:return r="Your webcam is busy",e.abrupt("break",28);case 26:return r="Permission denied!",e.abrupt("break",28);case 28:h(r,{type:"error"});case 29:return e.abrupt("return",null);case 30:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function x(e){return{deviceId:null===e||void 0===e?void 0:e.deviceId,label:null===e||void 0===e?void 0:e.label,kind:null===e||void 0===e?void 0:e.kind,groupId:null===e||void 0===e?void 0:e.groupId}}function I(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getAvailableDevices"),t=[],n=[],r=[],i=[],e.prev=5,e.next=8,navigator.mediaDevices.enumerateDevices();case 8:e.sent.forEach((function(e){(null===e||void 0===e?void 0:e.deviceId)&&(null===e||void 0===e?void 0:e.label)&&("audioinput"===e.kind?t.push(x(e)):"audiooutput"===e.kind?n.push(x(e)):"videoinput"===e.kind&&r.push(x(e)))})),0===t.length&&i.push("audio"),0===r.length&&i.push("video"),0===n.length&&n.push({kind:"audiooutput",deviceId:"default",label:"Default speaker"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),h(e.t0.message,{type:"error"});case 18:return t.push({kind:"audioinput",deviceId:null,label:"Microphone off"}),n.push({kind:"audiooutput",deviceId:null,label:"Speaker off"}),r.push({kind:"videoinput",deviceId:null,label:"Camera off"}),e.abrupt("return",{audioInputDevices:t,audioOutputDevices:n,videoDevices:r,deviceErrors:i});case 22:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function j(){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(c.a.mark((function e(){var t,n,r,i,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,navigator.permissions){e.next=8;break}return e.next=4,I();case 4:return t=e.sent,n=t.deviceErrors,console.log("deviceErrors",n),e.abrupt("return",0===n.length);case 8:return e.next=10,Promise.all([navigator.permissions.query({name:"camera"}),navigator.permissions.query({name:"microphone"})]);case 10:return r=e.sent,i=Object(f.a)(r,2),a=i[0],u=i[1],e.abrupt("return","granted"===(null===a||void 0===a?void 0:a.state)&&"granted"===(null===u||void 0===u?void 0:u.state));case 17:return e.prev=17,e.t0=e.catch(0),console.error(e.t0.message),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function D(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(c.a.mark((function e(t){var n,r,i,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getDefaultDevice"),e.next=3,navigator.mediaDevices.enumerateDevices();case 3:if(n=e.sent,"audio"!==t){e.next=11;break}if(0!==(r=n.filter((function(e){return"audioinput"===e.kind}))).length){e.next=8;break}return e.abrupt("return",null);case 8:return void 0===(i=r.find((function(e){return"default"===e.deviceId})))&&(i=r[0]),e.abrupt("return",x(i));case 11:if("video"!==t){e.next=18;break}if(0!==(a=n.filter((function(e){return"videoinput"===e.kind}))).length){e.next=15;break}return e.abrupt("return",null);case 15:return void 0===(u=a.find((function(e){return"default"===e.deviceId})))&&(u=a[0]),e.abrupt("return",x(u));case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(18);var M=n(3),E=function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).videoRef=i.a.createRef(),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:if(!e.sent){e.next=15;break}return e.next=6,D("video");case 6:if(t=e.sent,console.log("videoInput",t),!(n=g(null,t))){e.next=15;break}return e.next=12,m(n);case 12:r=e.sent,this.videoRef.current.src="",this.videoRef.current.srcObject=r;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount JoinMeetingDialog"),this.videoRef.current&&(this.videoRef.current.src="",this.videoRef.current.srcObject=null)}},{key:"render",value:function(){return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)("video",{muted:!0,ref:this.videoRef,id:"video",autoPlay:!0})})}}]),n}(r.PureComponent),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),r(e),i(e),a(e),u(e)}))};u.a.render(Object(M.jsx)(i.a.StrictMode,{children:Object(M.jsx)(E,{})}),document.getElementById("root")),U()}},[[20,1,2]]]);
//# sourceMappingURL=main.2108a581.chunk.js.map